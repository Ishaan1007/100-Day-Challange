<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>100 Days Challenge</title>
<style>
  :root{
    --card-radius:14px;
    --gap:14px;
    --maxw:1100px;
    --muted:#6c6c6c;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
    background:#f3faf3;
    color:#07210f;
    -webkit-font-smoothing:antialiased;
    text-align:center;
    padding-bottom:48px;
  }

  header{
    background:linear-gradient(90deg,#2e7d32 0,#1b5e20 100%);
    color:white;
    padding:22px 12px;
    box-shadow:0 8px 30px rgba(0,0,0,0.12);
  }
  header h1{ margin:0; font-size:20px; letter-spacing:0.6px; }
  header p{ margin:6px 0 0; opacity:.92; font-size:13px }

  main{ max-width:var(--maxw); margin:18px auto; padding:0 18px; }

  /* MENU */
  .menu-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:var(--gap);
    margin-top:22px;
  }

  .card{
    border-radius:var(--card-radius);
    padding:18px;
    min-height:150px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    box-shadow:0 12px 30px rgba(11,21,13,0.06);
    cursor:pointer;
    transition:transform .16s ease, box-shadow .16s ease;
    border:1px solid rgba(0,0,0,0.03);
    position:relative;
  }
  .card:focus{ outline: 3px solid rgba(34,139,34,0.10) }
  .card:hover{ transform:translateY(-6px); box-shadow:0 22px 44px rgba(10,20,10,0.09); }

  .card .title{ font-weight:800; font-size:16px; margin-bottom:6px; text-align:left; }
  .card .sub{ font-size:13px; color:var(--muted); margin-bottom:12px; text-align:left; }

  .start-btn{
    padding:10px 14px;
    border-radius:10px;
    border:none;
    font-weight:800;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(10,20,10,0.06);
    transition:transform .12s ease;
    display:inline-flex;
    gap:8px;
    align-items:center;
    font-size:14px;
  }
  .start-btn:active{ transform:translateY(1px); }

  .mini-row{ display:flex; gap:12px; align-items:center; justify-content:space-between; width:100%; }
  .mini-bar{ flex:1; height:10px; background:rgba(0,0,0,0.06); border-radius:999px; overflow:hidden; margin-right:10px; }
  .mini-fill{ height:100%; width:0%; background:green; transition:width .28s ease; }

  /* Theme card backgrounds */
  .card.reading{ background:linear-gradient(180deg,#fff9e6,#fff3d6); color:#6b4b00; border-color:#ffe8a8;}
  .card.frontend{ background:linear-gradient(180deg,#fff7f2,#fff0ea); color:#5a1800; border-color:#ffd0b8;}
  .card.clang{ background:linear-gradient(180deg,#f2fbff,#e6f6ff); color:#003f6b; border-color:#cfeaff;}
  .card.math{ background:linear-gradient(180deg,#edf7ee,#e6f3e6); color:#155724; border-color:#bfe6c8;}

  .start-reading{ background:linear-gradient(90deg,#ffd966,#b38700); color:#fff; }
  .start-frontend{ background:linear-gradient(90deg,#ffad7a,#b7410e); color:#fff; }
  .start-clang{ background:linear-gradient(90deg,#75c0ff,#005fa3); color:#fff; }
  .start-math{ background:linear-gradient(90deg,#66bb6a,#2e7d32); color:#fff; }

  /* CHALLENGE VIEW */
  .challenge-wrap{ display:none; margin-top:8px; }
  .top-row{ display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; margin-bottom:14px; }
  .challenge-title{
    font-weight:900;
    padding:12px 18px;
    border-radius:10px;
    color:#fff;
    min-width:260px;
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
    font-size:18px;
  }
  .controls{ display:flex; gap:10px; align-items:center; }

  .btn{
    padding:9px 12px;
    border-radius:9px;
    border:none;
    cursor:pointer;
    font-weight:800;
    background:white;
    box-shadow:0 6px 18px rgba(10,20,10,0.06);
  }
  .btn.ghost{ background:transparent; color:inherit; border:1px solid rgba(0,0,0,0.06); }
  .btn.danger{ background:#e03b3b; color:white; }

  .progress-wrap{ max-width:880px; margin:0 auto 12px; padding:10px; background:rgba(0,0,0,0.03); border-radius:999px; }
  .progress-bar{ height:46px; border-radius:999px; overflow:hidden; background:white; box-shadow:inset 0 -2px 10px rgba(0,0,0,0.04); }
  .progress-fill{
    height:100%;
    width:0%;
    display:flex; align-items:center; justify-content:center;
    font-weight:900; color:white; transition:width .28s ease; padding:0 18px;
  }
  .progress-meta{ margin-top:8px; color:var(--muted); font-weight:700; }

  /* days grid (bigger tiles) */
  .days-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
    gap:12px;
    margin-top:18px;
  }
  .day-tile{
    border-radius:12px;
    padding:20px 10px;
    border:2px solid #ddd;
    cursor:pointer;
    font-weight:900;
    transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
    box-shadow:0 10px 26px rgba(10,20,10,0.04);
    background:white;
    user-select:none;
    font-size:16px;
    position:relative;
    min-height:72px;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .day-tile:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(10,20,10,0.07); }
  .day-tile.completed{ color:white; }
  .day-tile.locked{ background:#f0f0f0; color:#8a8a8a; border-color:#e0e0e0; cursor:not-allowed; transform:none; box-shadow:none; }
  .lock-icon{ position:absolute; top:8px; right:8px; font-size:14px; opacity:0.95; }

  @media (max-width:520px){
    .day-tile{ padding:16px 8px; min-height:68px; font-size:15px; }
  }
</style>
</head>
<body>
<header>
  <h1>100 Days Challenge</h1>
  <p>Choose a challenge and complete each day in order. Progress is saved per challenge.</p>
</header>

<main>
  <!-- Menu -->
  <section id="menu" class="menu-grid" aria-label="Challenge menu">
    <div class="card reading" data-theme="reading" tabindex="0" role="button">
      <div>
        <div class="title">üìö 1 Hour Reading Challenge</div>
        <div class="sub">Golden & White theme ‚Äî 100 days</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-reading" data-theme="reading">Start 100 Days</button>
        <div style="flex:1;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true"><div class="mini-fill" data-mini="reading"></div></div>
            <div style="font-weight:800;color:#6b4b00" data-mini-text="reading">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card frontend" data-theme="frontend" tabindex="0" role="button">
      <div>
        <div class="title">üíª 1 Hour Frontend Challenge</div>
        <div class="sub">Rusty Orange & White theme ‚Äî 100 days</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-frontend" data-theme="frontend">Start 100 Days</button>
        <div style="flex:1;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true"><div class="mini-fill" data-mini="frontend"></div></div>
            <div style="font-weight:800;color:#5a1800" data-mini-text="frontend">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card clang" data-theme="clang" tabindex="0" role="button">
      <div>
        <div class="title">üîµ 1 Hour C Language</div>
        <div class="sub">Blue & White theme ‚Äî 100 days</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-clang" data-theme="clang">Start 100 Days</button>
        <div style="flex:1;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true"><div class="mini-fill" data-mini="clang"></div></div>
            <div style="font-weight:800;color:#003f6b" data-mini-text="clang">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card math" data-theme="math" tabindex="0" role="button">
      <div>
        <div class="title">üßÆ 1 Hour Math Challenge</div>
        <div class="sub">Green & White theme ‚Äî 100 days</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-math" data-theme="math">Start 100 Days</button>
        <div style="flex:1;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true"><div class="mini-fill" data-mini="math"></div></div>
            <div style="font-weight:800;color:#155724" data-mini-text="math">0%</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CHALLENGE VIEW -->
  <section id="challenge" class="challenge-wrap" aria-hidden="true">
    <div class="top-row">
      <div id="challengeTitle" class="challenge-title">‚Äî</div>
      <div class="controls">
        <button id="backBtn" class="btn ghost" onclick="backToMenu()">‚Üê Menu</button>
        <button id="undoBtn" class="btn" onclick="undoLast()">‚Ü∫ Undo Last</button>
        <button id="resetBtn" class="btn danger" onclick="resetChallenge()">Reset</button>
      </div>
    </div>

    <div class="progress-wrap" aria-hidden="false">
      <div class="progress-bar" role="progressbar" aria-label="Progress">
        <div id="progressFill" class="progress-fill">0%</div>
      </div>
      <div id="progressMeta" class="progress-meta">0 of 100 days completed ‚Ä¢ Complete in order</div>
    </div>

    <div id="daysGrid" class="days-grid" aria-live="polite"></div>
  </section>
</main>

<script>
const THEMES = {
  reading: { key: "days_reading", label: "1 Hour Reading Challenge", primary: "#b8860b", border: "#ffd700", heading: "linear-gradient(90deg,#ffd966,#b38700)", text: "#6b4b00" },
  frontend: { key: "days_frontend", label: "1 Hour Frontend Challenge", primary: "#b7410e", border: "#d98a6b", heading: "linear-gradient(90deg,#ffad7a,#b7410e)", text: "#5a1800" },
  clang: { key: "days_clang", label: "1 Hour C Language", primary: "#0077cc", border: "#75c0ff", heading: "linear-gradient(90deg,#75c0ff,#005fa3)", text: "#003f6b" },
  math: { key: "days_math", label: "1 Hour Math Challenge", primary: "#2e7d32", border: "#66bb6a", heading: "linear-gradient(90deg,#66bb6a,#2e7d32)", text: "#155724" }
};

let current = null;

/* Load progress (single integer 0..100) */
function loadProgress(key){
  try{
    const raw = localStorage.getItem(key);
    let n = raw !== null ? Number(raw) : 0;
    if (!Number.isInteger(n) || n < 0) n = 0;
    if (n > 100) n = 100;
    return n;
  }catch(e){ return 0; }
}

/* Save progress */
function saveProgress(key, value){
  const v = Math.max(0, Math.min(100, Math.trunc(Number(value) || 0)));
  localStorage.setItem(key, String(v));
  updateMenuProgress();
}

/* show menu */
function showMenu(){
  document.getElementById("menu").style.display = "grid";
  document.getElementById("challenge").style.display = "none";
  document.getElementById("challenge").setAttribute("aria-hidden","true");
  current = null;
  document.title = "100 Days Challenge ‚Äî Menu";
}

/* start challenge */
function startChallenge(themeKey){
  if (!THEMES[themeKey]) return;
  current = themeKey;
  const theme = THEMES[themeKey];

  document.getElementById("menu").style.display = "none";
  document.getElementById("challenge").style.display = "block";
  document.getElementById("challenge").setAttribute("aria-hidden","false");

  const heading = document.getElementById("challengeTitle");
  heading.textContent = theme.label;
  heading.style.background = theme.heading;
  heading.style.color = "#fff";

  renderDays(themeKey);
  updateProgressUI(themeKey);
  document.title = theme.label + " ‚Äî 100 Days";
}

/* back */
function backToMenu(){ showMenu(); }

/* render 100 tiles enforcing order-lock */
function renderDays(themeKey){
  const grid = document.getElementById("daysGrid");
  grid.innerHTML = "";
  const theme = THEMES[themeKey];
  const progress = loadProgress(theme.key); // highest completed day (0..100)

  for (let i=1;i<=100;i++){
    const t = document.createElement("button");
    t.className = "day-tile";
    t.textContent = "Day " + i;
    t.dataset.day = String(i);

    // styles
    t.style.borderColor = theme.border;
    t.style.color = theme.border;

    if (i <= progress){
      // completed
      t.classList.add("completed");
      t.style.background = theme.primary;
      t.style.borderColor = theme.primary;
      t.style.color = "#fff";
      t.setAttribute("aria-pressed","true");
      // allow undo ONLY if it's the last completed (i == progress)
      if (i === progress){
        t.title = "Click to undo this last completed day";
        t.addEventListener("click", ()=> { undoLast(); });
      } else {
        // earlier completed: no click
        t.addEventListener("click", ()=> { /* locked for modification to keep order */ });
      }
    } else if (i === progress + 1){
      // next unlocked day
      t.classList.remove("locked");
      t.title = "Click to mark Day " + i + " complete";
      t.addEventListener("click", ()=> {
        // advance progress
        saveProgress(theme.key, progress + 1);
        renderDays(themeKey);
        updateProgressUI(themeKey);
      });
      // style as available (white background, border primary)
      t.style.background = "white";
      t.style.color = theme.primary;
      t.style.borderColor = theme.primary;
    } else {
      // locked
      t.classList.add("locked");
      t.title = "Locked ‚Äî complete previous days in order";
      // add lock icon (emoji) at corner
      const lock = document.createElement("span");
      lock.className = "lock-icon";
      lock.textContent = "üîí";
      t.appendChild(lock);
      // no click
    }

    grid.appendChild(t);
  }
}

/* update main progress UI */
function updateProgressUI(themeKey){
  const theme = THEMES[themeKey];
  const p = loadProgress(theme.key);
  const pct = Math.round((p/100) * 100);
  const fill = document.getElementById("progressFill");
  fill.style.width = pct + "%";
  fill.textContent = pct + "%";
  fill.style.background = theme.primary;
  document.getElementById("progressMeta").textContent = `${p} of 100 days completed ‚Ä¢ Complete in order`;
  // update undo button availability
  document.getElementById("undoBtn").disabled = (p === 0);
}

/* undo last completed day (decrement progress by 1) */
function undoLast(){
  if (!current) return;
  const theme = THEMES[current];
  let p = loadProgress(theme.key);
  if (p <= 0) return;
  if (!confirm("Undo last completed day? This will mark Day " + p + " as not completed.")) return;
  p = p - 1;
  saveProgress(theme.key, p);
  renderDays(current);
  updateProgressUI(current);
}

/* reset current challenge */
function resetChallenge(){
  if (!current) return;
  const theme = THEMES[current];
  if (!confirm(`Reset all progress for "${theme.label}"? This will permanently delete saved progress for this challenge.`)) return;
  saveProgress(theme.key, 0);
  renderDays(current);
  updateProgressUI(current);
}

/* update mini progress for menu cards */
function updateMenuProgress(){
  Object.keys(THEMES).forEach(k=>{
    const theme = THEMES[k];
    const p = loadProgress(theme.key);
    const pct = Math.round((p/100)*100);
    const miniFill = document.querySelector(`.mini-fill[data-mini="${k}"]`);
    const miniText = document.querySelector(`[data-mini-text="${k}"]`);
    if (miniFill) { miniFill.style.width = pct + "%"; miniFill.style.background = theme.primary; }
    if (miniText) miniText.textContent = pct + "%";
  });
}

/* Wire up card/button clicks on DOM load */
document.addEventListener("DOMContentLoaded", ()=>{
  // card click
  document.querySelectorAll('.card').forEach(card=>{
    const theme = card.dataset.theme;
    card.addEventListener('click', ()=> startChallenge(theme));
    card.addEventListener('keydown', (e)=> { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); startChallenge(theme); } });
  });

  // start buttons inside card
  document.querySelectorAll('.start-btn').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      e.stopPropagation();
      const theme = btn.dataset.theme;
      startChallenge(theme);
    });
  });

  updateMenuProgress();
  // expose undo/back for console if needed
  window.undoLast = undoLast;
  window.backToMenu = backToMenu;
  window.resetChallenge = resetChallenge;
});

/* small helper to go back (used externally if needed) */
function backToMenu(){ showMenu(); updateMenuProgress(); }
</script>
</body>
</html>
    
