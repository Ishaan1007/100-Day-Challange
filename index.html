<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>100 Days Challenge</title>
<style>
  :root{
    --radius:14px;
    --gap:14px;
    --maxw:1100px;
    --card-shadow: 0 12px 30px rgba(11,21,13,0.06);
    --muted:#6b6b6b;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
    background: #f7fbf7;
    color:#07210f;
    -webkit-font-smoothing:antialiased;
    text-align:center;
    padding-bottom:40px;
  }

  header{
    background: linear-gradient(90deg,#2e7d32 0,#1b5e20 100%);
    color:white;
    padding:22px 12px;
    box-shadow: 0 6px 30px rgba(0,0,0,0.12);
  }
  header h1{ margin:0; font-size:20px; letter-spacing:0.6px; }
  header p{ margin:6px 0 0; opacity:0.9; font-size:13px }

  main{ max-width:var(--maxw); margin:18px auto; padding:0 18px; }

  /* MENU GRID */
  .menu-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:var(--gap);
    margin-top:20px;
  }

  .card{
    background: white;
    border-radius:var(--radius);
    padding:18px;
    min-height:140px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    box-shadow: var(--card-shadow);
    cursor:pointer;
    transition: transform .16s ease, box-shadow .16s ease;
    border:1px solid rgba(0,0,0,0.03);
    position:relative;
  }
  .card:focus{ outline: 3px solid rgba(34,139,34,0.12) }

  .card:hover{ transform: translateY(-6px); box-shadow: 0 20px 50px rgba(10,20,10,0.09); }

  .card-top{ text-align:left; }
  .card .title{ font-weight:800; font-size:16px; margin-bottom:6px; }
  .card .sub{ font-size:13px; color:var(--muted); margin-bottom:12px; }

  /* start button inside card */
  .start-btn{
    padding:10px 14px;
    border-radius:10px;
    border:none;
    font-weight:800;
    cursor:pointer;
    box-shadow: 0 6px 18px rgba(10,20,10,0.06);
    transition: transform .12s ease, opacity .12s ease;
    display:inline-flex;
    gap:8px;
    align-items:center;
  }
  .start-btn:active{ transform: translateY(1px); }

  /* mini progress in card */
  .mini-row{ display:flex; gap:10px; align-items:center; justify-content:space-between; width:100%; }
  .mini-bar{ flex:1; height:10px; background:rgba(0,0,0,0.06); border-radius:999px; overflow:hidden; margin-right:10px; }
  .mini-fill{ height:100%; width:0%; background:green; transition: width .28s ease; }

  /* Theme variants */
  .card.reading{ background: linear-gradient(180deg,#fff9e6,#fff3d6); color:#6b4b00; border-color:#ffe8a8; }
  .card.frontend{ background: linear-gradient(180deg,#fff7f2,#fff0ea); color:#5a1800; border-color:#ffd0b8; }
  .card.clang{ background: linear-gradient(180deg,#f2fbff,#e6f6ff); color:#003f6b; border-color:#cfeaff; }
  .card.math{ background: linear-gradient(180deg,#edf7ee,#e6f3e6); color:#155724; border-color:#bfe6c8; }

  /* start button theme styles */
  .start-reading{ background: linear-gradient(90deg,#ffd966,#b38700); color:#fff; }
  .start-frontend{ background: linear-gradient(90deg,#ffad7a,#b7410e); color:#fff; }
  .start-clang{ background: linear-gradient(90deg,#75c0ff,#005fa3); color:#fff; }
  .start-math{ background: linear-gradient(90deg,#66bb6a,#2e7d32); color:#fff; }

  /* CHALLENGE VIEW */
  .challenge-wrap{ display:none; margin-top:8px; }
  .top-row{ display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; margin-bottom:14px; }
  .challenge-title{
    font-weight:800;
    padding:12px 18px;
    border-radius:10px;
    color:#fff;
    min-width:240px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  }
  .controls{ display:flex; gap:10px; align-items:center; }

  .btn{
    padding:9px 12px;
    border-radius:9px;
    border:none;
    cursor:pointer;
    font-weight:800;
    background:white;
    box-shadow: 0 6px 18px rgba(10,20,10,0.06);
  }
  .btn.ghost{ background:transparent; color:inherit; border:1px solid rgba(0,0,0,0.06); }
  .btn.danger{ background:#e03b3b; color:white; }

  .progress-wrap{ max-width:820px; margin:0 auto 18px; padding:10px; background:rgba(0,0,0,0.03); border-radius:999px; }
  .progress-bar{ height:42px; border-radius:999px; overflow:hidden; background:white; box-shadow: inset 0 -2px 10px rgba(0,0,0,0.04); }
  .progress-fill{
    height:100%;
    width:0%;
    display:flex; align-items:center; justify-content:center;
    font-weight:900; color:white; transition:width .28s ease; padding:0 16px;
  }

  .progress-meta{ margin-top:8px; color:var(--muted); font-weight:700; }

  /* days grid */
  .days-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(76px,1fr));
    gap:10px;
    margin-top:14px;
  }
  .day-btn{
    border-radius:12px;
    padding:12px 6px;
    border:2px solid #ddd;
    cursor:pointer;
    font-weight:800;
    transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    box-shadow: 0 8px 20px rgba(10,20,10,0.04);
    background:white;
    user-select:none;
  }
  .day-btn:hover{ transform:translateY(-6px); box-shadow: 0 18px 34px rgba(10,20,10,0.06); }
  .day-btn.completed{ color:white; }

  @media (max-width:480px){
    header h1{ font-size:18px; }
    .card{ padding:14px; min-height:110px; }
    .start-btn{ padding:8px 10px; font-size:13px; }
  }
</style>
</head>
<body>
<header>
  <h1>100 Days Challenge</h1>
  <p>Pick a 1-hour challenge and track 100 days ‚Äî progress is saved per challenge.</p>
</header>

<main>
  <!-- MENU -->
  <section id="menu" class="menu-grid" aria-label="Challenge menu">
    <div class="card reading" data-theme="reading" tabindex="0" role="button">
      <div class="card-top">
        <div class="title">üìö 1 Hour Reading Challenge</div>
        <div class="sub">Golden &amp; White theme ‚Äî 100 days</div>
      </div>

      <div class="card-bottom" style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-reading" data-theme="reading" aria-label="Start Reading challenge">Start 100 Days</button>

        <div style="width:100%;display:flex;flex-direction:column;align-items:flex-end;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true">
              <div class="mini-fill" data-mini="reading"></div>
            </div>
            <div style="font-weight:800;color:#6b4b00" data-mini-text="reading">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card frontend" data-theme="frontend" tabindex="0" role="button">
      <div class="card-top">
        <div class="title">üíª 1 Hour Frontend Challenge</div>
        <div class="sub">Rusty Orange &amp; White theme ‚Äî 100 days</div>
      </div>

      <div class="card-bottom" style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-frontend" data-theme="frontend">Start 100 Days</button>

        <div style="width:100%;display:flex;flex-direction:column;align-items:flex-end;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true">
              <div class="mini-fill" data-mini="frontend"></div>
            </div>
            <div style="font-weight:800;color:#5a1800" data-mini-text="frontend">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card clang" data-theme="clang" tabindex="0" role="button">
      <div class="card-top">
        <div class="title">üîµ 1 Hour C Language</div>
        <div class="sub">Blue &amp; White theme ‚Äî 100 days</div>
      </div>

      <div class="card-bottom" style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-clang" data-theme="clang">Start 100 Days</button>

        <div style="width:100%;display:flex;flex-direction:column;align-items:flex-end;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true">
              <div class="mini-fill" data-mini="clang"></div>
            </div>
            <div style="font-weight:800;color:#003f6b" data-mini-text="clang">0%</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card math" data-theme="math" tabindex="0" role="button">
      <div class="card-top">
        <div class="title">üßÆ 1 Hour Math Challenge</div>
        <div class="sub">Green &amp; White theme ‚Äî 100 days</div>
      </div>

      <div class="card-bottom" style="display:flex;align-items:center;gap:12px;">
        <button class="start-btn start-math" data-theme="math">Start 100 Days</button>

        <div style="width:100%;display:flex;flex-direction:column;align-items:flex-end;">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="mini-bar" aria-hidden="true">
              <div class="mini-fill" data-mini="math"></div>
            </div>
            <div style="font-weight:800;color:#155724" data-mini-text="math">0%</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CHALLENGE VIEW -->
  <section id="challenge" class="challenge-wrap" aria-hidden="true">
    <div class="top-row">
      <div id="challengeTitle" class="challenge-title">‚Äî</div>
      <div class="controls">
        <button id="backBtn" class="btn ghost" onclick="backToMenu()">‚Üê Menu</button>
        <button id="resetBtn" class="btn danger" onclick="resetChallenge()">Reset</button>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="progress-bar" role="progressbar" aria-label="Progress">
        <div id="progressFill" class="progress-fill">0%</div>
      </div>
      <div id="progressMeta" class="progress-meta">0 of 100 days completed</div>
    </div>

    <div id="daysGrid" class="days-grid" aria-live="polite"></div>
  </section>
</main>

<script>
/* Theme definitions and storage keys */
const THEMES = {
  reading: { key: "days_reading", label: "1 Hour Reading Challenge", primary: "#b8860b", border: "#ffd700", heading: "linear-gradient(90deg,#ffd966,#b38700)", accentText: "#6b4b00" },
  frontend: { key: "days_frontend", label: "1 Hour Frontend Challenge", primary: "#b7410e", border: "#d98a6b", heading: "linear-gradient(90deg,#ffad7a,#b7410e)", accentText: "#5a1800" },
  clang: { key: "days_clang", label: "1 Hour C Language", primary: "#0077cc", border: "#75c0ff", heading: "linear-gradient(90deg,#75c0ff,#005fa3)", accentText: "#003f6b" },
  math: { key: "days_math", label: "1 Hour Math Challenge", primary: "#2e7d32", border: "#66bb6a", heading: "linear-gradient(90deg,#66bb6a,#2e7d32)", accentText: "#155724" }
};

let current = null;

/* Load saved array (robust) */
function loadDays(storageKey){
  try{
    const raw = localStorage.getItem(storageKey);
    if (!raw) return [];
    const arr = JSON.parse(raw);
    if (!Array.isArray(arr)) return [];
    return arr.map(n=>Number(n)).filter(n=>Number.isInteger(n)&&n>=1&&n<=100);
  }catch(e){ return []; }
}

/* Save deduped sorted */
function saveDays(storageKey, arr){
  const unique = Array.from(new Set(arr.map(Number))).filter(n=>Number.isInteger(n)&&n>=1&&n<=100);
  unique.sort((a,b)=>a-b);
  localStorage.setItem(storageKey, JSON.stringify(unique));
  updateMenuProgress(); // reflect in mini-cards immediately
}

/* Show menu */
function showMenu(){
  document.getElementById("menu").style.display = "grid";
  document.getElementById("challenge").style.display = "none";
  document.getElementById("challenge").setAttribute("aria-hidden","true");
  current = null;
  document.title = "100 Days Challenge ‚Äî Menu";
}

/* Start a challenge (from card or start button) */
function startChallenge(themeKey){
  if (!THEMES[themeKey]) return;
  current = themeKey;
  const theme = THEMES[themeKey];

  // Show challenge view
  document.getElementById("menu").style.display = "none";
  document.getElementById("challenge").style.display = "block";
  document.getElementById("challenge").setAttribute("aria-hidden","false");

  // Heading style
  const heading = document.getElementById("challengeTitle");
  heading.textContent = theme.label;
  heading.style.background = theme.heading;
  heading.style.color = "#fff";

  // Render days & progress
  renderDays(themeKey);
  updateProgress(themeKey);

  document.title = theme.label + " ‚Äî 100 Days";
}

/* Back */
function backToMenu(){ showMenu(); }

/* Render 100 day buttons */
function renderDays(themeKey){
  const grid = document.getElementById("daysGrid");
  grid.innerHTML = "";
  const theme = THEMES[themeKey];
  const completed = loadDays(theme.key);

  for (let i=1;i<=100;i++){
    const btn = document.createElement("button");
    btn.className = "day-btn";
    btn.textContent = "Day " + i;
    btn.dataset.day = i;
    // set uncompleted style
    btn.style.borderColor = theme.border;
    btn.style.color = theme.border;
    btn.style.background = "white";

    if (completed.includes(i)){
      btn.classList.add("completed");
      btn.style.background = theme.primary;
      btn.style.borderColor = theme.primary;
      btn.style.color = "#fff";
      btn.setAttribute("aria-pressed","true");
    } else {
      btn.setAttribute("aria-pressed","false");
    }

    btn.addEventListener("click", ()=> toggleDay(themeKey, i, btn));
    grid.appendChild(btn);
  }
}

/* Toggle a day on/off */
function toggleDay(themeKey, day, btnElem){
  const theme = THEMES[themeKey];
  const key = theme.key;
  const arr = loadDays(key);
  const idx = arr.indexOf(day);
  if (idx >= 0){
    arr.splice(idx,1);
    btnElem.classList.remove("completed");
    btnElem.style.background = "white";
    btnElem.style.borderColor = theme.border;
    btnElem.style.color = theme.border;
    btnElem.setAttribute("aria-pressed","false");
  } else {
    arr.push(day);
    btnElem.classList.add("completed");
    btnElem.style.background = theme.primary;
    btnElem.style.borderColor = theme.primary;
    btnElem.style.color = "#fff";
    btnElem.setAttribute("aria-pressed","true");
  }
  saveDays(key, arr);
  updateProgress(themeKey);
}

/* Update main progress bar for active challenge */
function updateProgress(themeKey){
  const fill = document.getElementById("progressFill");
  const meta = document.getElementById("progressMeta");
  if (!themeKey) { fill.style.width = "0%"; fill.textContent = "0%"; meta.textContent = ""; return; }
  const theme = THEMES[themeKey];
  const arr = loadDays(theme.key);
  const percent = Math.round((arr.length/100)*100);
  fill.style.width = percent + "%";
  fill.textContent = percent + "%";
  fill.style.background = theme.primary;
  meta.textContent = `${arr.length} of 100 days completed`;
}

/* Reset current challenge */
function resetChallenge(){
  if (!current) return;
  const theme = THEMES[current];
  if (!confirm(`Reset saved progress for "${theme.label}"? This will delete saved data.`)) return;
  localStorage.removeItem(theme.key);
  renderDays(current);
  updateProgress(current);
}

/* Update mini progress bars on menu cards */
function updateMenuProgress(){
  for (const k of Object.keys(THEMES)){
    const theme = THEMES[k];
    const arr = loadDays(theme.key);
    const percent = Math.round((arr.length/100)*100);
    const miniFill = document.querySelector(`.mini-fill[data-mini="${k}"]`);
    const miniText = document.querySelector(`[data-mini-text="${k}"]`);
    if (miniFill) {
      miniFill.style.width = percent + "%";
      miniFill.style.background = theme.primary;
    }
    if (miniText) miniText.textContent = percent + "%";
  }
}

/* Wire up start buttons & card clicks & keyboard */
document.addEventListener("DOMContentLoaded", ()=>{
  // card click / keyboard
  document.querySelectorAll('.card').forEach(card=>{
    const theme = card.dataset.theme;
    card.addEventListener('click', ()=> startChallenge(theme));
    card.addEventListener('keydown', (e)=> { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); startChallenge(theme); } });
  });

  // start buttons inside cards should stopPropagation so card click doesn't double-run
  document.querySelectorAll('.start-btn').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      e.stopPropagation();
      const theme = btn.dataset.theme;
      startChallenge(theme);
    });
  });

  // initial mini progress update
  updateMenuProgress();
});

/* accessibility: expose showMenu to console if needed */
window.backToMenu = backToMenu;
</script>
</body>
                </html>
